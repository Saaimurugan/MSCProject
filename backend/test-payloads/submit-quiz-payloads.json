{
  "SUBMIT_QUIZ_TEXT_ANSWER": {
    "description": "POST /quiz/submit - Submit quiz with text answers (elaborate questions)",
    "event": {
      "httpMethod": "POST",
      "path": "/quiz/submit",
      "body": "{\"template_id\":\"TEMPLATE_ID\",\"session_id\":\"test-session-123\",\"answers\":[{\"question_index\":0,\"answer_text\":\"This is my detailed answer to question 1.\",\"pdf_data\":null,\"pdf_filename\":null},{\"question_index\":1,\"answer_text\":\"This is my answer to question 2 with more details.\",\"pdf_data\":null,\"pdf_filename\":null}]}"
    },
    "expected_response": {
      "statusCode": 200,
      "body_contains": ["result_id", "session_id", "average_score", "total_questions", "evaluations"]
    },
    "notes": "For elaborate answer questions. Each answer is evaluated by MSC_Evaluate Lambda using Bedrock."
  },

  "SUBMIT_QUIZ_PDF_ANSWER": {
    "description": "POST /quiz/submit - Submit quiz with PDF answer",
    "event": {
      "httpMethod": "POST",
      "path": "/quiz/submit",
      "body": "{\"template_id\":\"TEMPLATE_ID\",\"session_id\":\"pdf-session-123\",\"answers\":[{\"question_index\":0,\"answer_text\":\"\",\"pdf_data\":\"BASE64_ENCODED_PDF_DATA\",\"pdf_filename\":\"answer.pdf\"}]}"
    },
    "expected_response": {
      "statusCode": 200,
      "body_contains": ["result_id", "evaluations"]
    },
    "notes": "PDF is base64 encoded. Text is extracted from PDF and evaluated."
  },

  "SUBMIT_QUIZ_MIXED_ANSWERS": {
    "description": "POST /quiz/submit - Submit quiz with both text and PDF answers",
    "event": {
      "httpMethod": "POST",
      "path": "/quiz/submit",
      "body": "{\"template_id\":\"TEMPLATE_ID\",\"answers\":[{\"question_index\":0,\"answer_text\":\"Text answer\",\"pdf_data\":null,\"pdf_filename\":null},{\"question_index\":1,\"answer_text\":\"\",\"pdf_data\":\"BASE64_PDF\",\"pdf_filename\":\"q2.pdf\"}]}"
    },
    "expected_response": {
      "statusCode": 200,
      "body_contains": ["average_score", "evaluations"]
    },
    "notes": "session_id will be auto-generated if not provided"
  },

  "SUBMIT_QUIZ_MISSING_TEMPLATE_ID": {
    "description": "POST /quiz/submit - Validation error: missing template_id",
    "event": {
      "httpMethod": "POST",
      "path": "/quiz/submit",
      "body": "{\"answers\":[{\"question_index\":0,\"selected_answer\":1}]}"
    },
    "expected_response": {
      "statusCode": 400,
      "body_contains": ["Template ID is required"]
    }
  },

  "SUBMIT_QUIZ_MISSING_ANSWERS": {
    "description": "POST /quiz/submit - Validation error: missing answers",
    "event": {
      "httpMethod": "POST",
      "path": "/quiz/submit",
      "body": "{\"template_id\":\"TEMPLATE_ID\",\"session_id\":\"test-session\"}"
    },
    "expected_response": {
      "statusCode": 400,
      "body_contains": ["Answers are required"]
    }
  },

  "SUBMIT_QUIZ_INCOMPLETE_ANSWERS": {
    "description": "POST /quiz/submit - Validation error: not all questions answered",
    "event": {
      "httpMethod": "POST",
      "path": "/quiz/submit",
      "body": "{\"template_id\":\"TEMPLATE_ID\",\"session_id\":\"incomplete-session\",\"answers\":[{\"question_index\":0,\"selected_answer\":1}]}"
    },
    "expected_response": {
      "statusCode": 400,
      "body_contains": ["All questions must be answered"]
    },
    "notes": "Assumes template has more than 1 question"
  },

  "SUBMIT_QUIZ_INVALID_QUESTION_INDEX": {
    "description": "POST /quiz/submit - Validation error: invalid question_index",
    "event": {
      "httpMethod": "POST",
      "path": "/quiz/submit",
      "body": "{\"template_id\":\"TEMPLATE_ID\",\"session_id\":\"invalid-index\",\"answers\":[{\"question_index\":0,\"selected_answer\":1},{\"question_index\":1,\"selected_answer\":1},{\"question_index\":99,\"selected_answer\":2}]}"
    },
    "expected_response": {
      "statusCode": 400,
      "body_contains": ["Invalid question_index"]
    }
  },

  "SUBMIT_QUIZ_TEMPLATE_NOT_FOUND": {
    "description": "POST /quiz/submit - Template not found",
    "event": {
      "httpMethod": "POST",
      "path": "/quiz/submit",
      "body": "{\"template_id\":\"non-existent-template-id\",\"session_id\":\"test-session\",\"answers\":[{\"question_index\":0,\"selected_answer\":1}]}"
    },
    "expected_response": {
      "statusCode": 404,
      "body_contains": ["Template not found"]
    }
  },

  "SUBMIT_QUIZ_INVALID_JSON": {
    "description": "POST /quiz/submit - Invalid JSON in request body",
    "event": {
      "httpMethod": "POST",
      "path": "/quiz/submit",
      "body": "{invalid json}"
    },
    "expected_response": {
      "statusCode": 400,
      "body_contains": ["Invalid JSON"]
    }
  },

  "OPTIONS_CORS_PREFLIGHT": {
    "description": "OPTIONS /quiz/submit - CORS preflight request",
    "event": {
      "httpMethod": "OPTIONS",
      "path": "/quiz/submit"
    },
    "expected_response": {
      "statusCode": 200
    }
  }
}
